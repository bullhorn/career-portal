<div class="modal-container">
    <div class="modal slide-up" data-ng-class="{'success':!modal.showForm}">
        <header>
            <section data-ng-if="modal.showForm">
                <h2>{{modal.SearchService.currentDetailData.title}}</h2>
                <span class="category">{{modal.SearchService.currentDetailData.publishedCategory.name}}</span>

                <span class="location">
                    {{::modal.SearchService.currentDetailData.address.city}}<span data-ng-if="::(modal.SearchService.currentDetailData.address.city && modal.SearchService.currentDetailData.address.state)">,&nbsp;</span>{{::modal.SearchService.currentDetailData.address.state}}
                </span>
                <span class="separator" data-ng-show="::((modal.SearchService.currentDetailData.address.city || modal.SearchService.currentDetailData.address.state) && modal.SearchService.currentDetailData.employmentType)">|</span>
                <span class="type">{{::modal.SearchService.currentDetailData.employmentType}}</span>

                <i class="bhi-times close" data-ng-click="modal.closeModal(applyForm)"></i>
            </section>
            <section class="success" data-ng-if="!modal.showForm">
                <h2>{{'MODAL.SUCCESS_HEADING' | translate}}</h2>

                <h3>{{'MODAL.SUCCESS_SUBHEADING' | translate}}</h3>
            </section>
        </header>
        <div class="main" data-ng-class="{'success':!modal.showForm}">
            <form name="applyForm" class="apply-form" novalidate data-ng-show="modal.showForm">
                <div class="form-field">
                    <div class="input">
                        <span class="required">*</span>
                        <input type="text" name="firstName" value="" data-ng-model="modal.ApplyService.form.firstName" placeholder="{{'MODAL.FIRST_NAME_PLACEHOLDER' | translate}}" required>
                    </div>
                    <span class="error" data-ng-show="applyForm.firstName.$dirty || applyForm.$submitted">
                        <span data-ng-show="applyForm.firstName.$error.required">{{'MODAL.FIRST_NAME_VALIDATION' | translate}}</span>
                    </span>
                </div>
                <div class="form-field">
                    <div class="input">
                        <span class="required">*</span>
                        <input type="text" name="lastName" value="" data-ng-model="modal.ApplyService.form.lastName" placeholder="{{'MODAL.LAST_NAME_PLACEHOLDER' | translate}}" required>
                    </div>
                    <span class="error" data-ng-show="applyForm.lastName.$dirty || applyForm.$submitted">
                        <span data-ng-show="applyForm.lastName.$error.required">{{'MODAL.LAST_NAME_VALIDATION' | translate}}</span>
                    </span>
                </div>
                <div class="form-field">
                    <div class="input">
                        <span class="required">*</span>
                        <input type="email" name="email" value="" data-ng-model="modal.ApplyService.form.email" placeholder="{{'MODAL.EMAIL_PLACEHOLDER' | translate}}" required>
                    </div>
                    <span class="error" data-ng-show="applyForm.email.$dirty || applyForm.$submitted">
                        <span data-ng-show="applyForm.email.$error.required">
                            {{'MODAL.EMAIL_REQUIRED' | translate}}
                        </span>
                        <span data-ng-show="applyForm.email.$error.email">
                            {{'MODAL.EMAIL_VALIDATION' | translate}}
                        </span>
                    </span>
                </div>
                <div class="form-field">
                    <div class="input">
                        <span>&nbsp;</span>
                        <input type="text" name="mobile-phone" value="" data-ng-model="modal.ApplyService.form.phone" placeholder="{{'MODAL.PHONE_PLACEHOLDER' | translate}}">
                    </div>
                </div>
                <div class="upload-label" >
                    <span class="field-label">
                        {{'MODAL.RESUME_FILE_PLACEHOLDER' | translate}}
                        <i class="bhi-question" data-ng-if="!modal.isMobile" data-tooltips data-tooltip-class="accepted-formats" data-tooltip-show-trigger="mouseenter" data-tooltip-hide-trigger="mouseleave" data-tooltip-side="right" data-tooltip-title="Supported File Formats" data-tooltip-html="{{::modal.getTooltipText()}}"></i>
                    </span>
                    <span class="error" data-ng-show="!applyForm.$submitted && modal.resumeUploadErrorMessage">
                        {{modal.resumeUploadErrorMessage}}
                    </span>
                    <span class="error" data-ng-show="applyForm.$submitted && !modal.ApplyService.form.resumeInfo">
                        {{'MODAL.RESUME_VALIDATION' | translate}}
                    </span>

                    <div class="clearfix"></div>
                </div>
                <div class="form-field upload-container" data-ngf-select data-ng-model="modal.ApplyService.form.resumeInfo" data-ngf-min-size="modal.configuration.minUploadSize" data-ngf-max-size="modal.configuration.maxUploadSize" data-ngf-multiple="false" data-ngf-accept="applyForm.$submitted=false;modal.validateResume($file);">
                    <i data-ng-show="!modal.ApplyService.form.resumeInfo.name" class="bhi-publish"></i>
                    <i data-ng-show="modal.ApplyService.form.resumeInfo.name" class="bhi-resume"></i>
                    <span class="upload-text" data-ng-show="!modal.ApplyService.form.resumeInfo.name">{{'MODAL.ATTACH_RESUME' | translate}}</span>
                    <span class="upload-text" data-ng-show="modal.ApplyService.form.resumeInfo.name">{{modal.ApplyService.form.resumeInfo.name}}</span>
                </div>
                <span class="error submit-error" data-ng-show="applyForm.$submitted && modal.ApplyService.ajaxError">
                    <i class="bhi-caution"></i> <span>{{modal.ApplyService.ajaxError}}</span>
                </span>
            </form>
            <footer data-ng-class="{'success':!modal.showForm}">
                <button data-ng-show="modal.showForm" name="cancel" data-ng-click="modal.closeModal(applyForm)">{{'MODAL.CANCEL' | translate}}</button>
                <button data-ng-show="modal.showForm" name="submit" data-ng-click="modal.submit(applyForm)">
                    <span data-ng-if="!modal.isSubmitting">
                        {{'MODAL.SUBMIT' | translate}}
                    </span>
                    <span data-ng-if="modal.isSubmitting">
                        <div class="loading">
                            {{'MODAL.SUBMITTING' | translate}}
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                            <div class="loading-dot"></div>
                        </div>
                    </span>
                </button>
                <button data-ng-show="!modal.showForm" name="ok" data-ng-click="modal.closeModal(applyForm)">{{'MODAL.OK' | translate}}</button>
            </footer>
        </div>
    </div>
</div>
